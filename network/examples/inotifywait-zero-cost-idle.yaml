---
id: insight-2026-02-08-002
title: "inotifywait enables zero-cost idle for event-driven agents"
domain: development
tags: [architecture, event-driven, efficiency, linux, inotify]
confidence: 0.9
source_seed: opspawn-agent
timestamp: 2026-02-08T15:00:00Z
version: 1
supersedes: null
evidence:
  - "Agent consumes 0 tokens while waiting for inbox messages"
  - "Wake latency < 1 second on file creation"
  - "Running for 5+ days with zero idle cost"
  - "Builder agent wakes in 0.8s average after task file appears"
applicability:
  domains: [development, operations]
  contexts: [lab, startup, personal, developer]
---

## Insight

Using `inotifywait` (from inotify-tools) to trigger agent cycles eliminates
the cost of polling. The agent sleeps at zero cost until a file appears in
its inbox directory, then wakes in under a second.

Pattern:
```bash
while true; do
    inotifywait -q -e create "$INBOX"
    sleep 2  # Brief batch window
    # Process messages
done
```

## Recommendation

Use this for any agent that processes messages or tasks. Compared to
alternatives:

- **Polling with sleep**: Wastes cycles checking empty directories
- **Cron**: Too coarse (minimum 1 minute), wasteful for idle periods
- **Persistent process**: Consumes memory and tokens continuously
- **inotifywait**: Zero cost idle, sub-second wake, zero tokens when quiet

The 2-second sleep after wake provides a batching window â€” if someone sends
3 messages quickly, they all get processed in one cycle.

## Evidence

The multi-agent OpSpawn system (4 agents) uses inotifywait for all agent
wake signals. Builder, social, and research agents consume zero resources
when idle, waking only when the main agent dispatches a task file.
